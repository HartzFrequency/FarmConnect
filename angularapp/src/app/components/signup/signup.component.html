<div class="container-fluid min-vh-100 d-flex justify-content-center align-items-center bg-light p-3">
  <div class="row w-75 shadow-lg rounded overflow-hidden" style="border-radius: 20px;">
    <div class="col-md-6 bg-dark text-white p-5 d-flex flex-column rounded justify-content-center libertinus-sans-regular"
      style="background-color:#0b3d2e;">
      <div class="d-flex flex-column justify-content-center align-items-center">
        <img src="https://i.ibb.co/fz0b7HpS/image.jpg" alt="logo" class="logo">
        <h2 class="bricolage-grotesque-Font mb-4 fw-bold text-dark">FarmConnect</h2>
        <h1 class="libertinus-sans-bold mb-3 text-dark">Start Your Day Fresh</h1>
      </div>

      <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <div class="input-group">
            <button class="btn btn-light" disabled><i class="bi bi-person-fill"></i></button>
            <input type="text" name="username" class="form-control text-dark" placeholder="Username"
              formControlName="userName">
          </div>

          <div class="text-danger" *ngIf="signupForm.get('userName').touched && signupForm.get('userName').invalid">
            <small class="text-danger" *ngIf="signupForm.get('userName')?.errors?.['required']">Username is
              required</small>

          </div>

        </div>
        <div class="mb-3">
          <div class="input-group">
            <button class="btn btn-light" disabled><i class="bi bi-envelope-fill"></i></button>
            <input type="email" name="email" class="form-control text-dark" placeholder="jane@gmail.com"
              formControlName="email">
          </div>
          <div class="text-danger" *ngIf="signupForm.get('email').touched && signupForm.get('email').invalid">
            <small class="text-danger" *ngIf="signupForm.get('email')?.errors?.['required']">Email is required</small>
            <small class="text-danger" *ngIf="signupForm.get('email')?.errors?.['email']">Please enter a valid
              email</small>
          </div>
        </div>
        <div class="mb-3">
          <div class="input-group">
            <button class="btn btn-light" disabled><i class="bi bi-phone-fill"></i></button>
            <input type="tel" name="mobile" class="form-control text-dark" placeholder="Mobile Number"
              formControlName="mobile">
          </div>
          <div class="text-danger" *ngIf="signupForm.get('mobile').touched && signupForm.get('mobile').invalid">
            <small class="text-danger" *ngIf="signupForm.get('mobile')?.errors?.['required']">Mobile is required</small>
          </div>
        </div>
        <div class="mb-3">
          <div class="input-group">
            <button class="btn btn-light" disabled><i class="bi bi-lock-fill"></i></button>
            <input [type]="showPassword?'text':'password'" name="password" class="form-control text-dark"
              placeholder="Password" formControlName="password">
            <button class="btn btn-light" type="button" (click)="togglePassword()"><i
                [ngClass]="{'bi bi-eye-slash': showPassword,'bi bi-eye':!showPassword}"></i></button>
          </div>
          <div class="text-danger" *ngIf="signupForm.get('password').touched && signupForm.get('password').invalid">
            <small *ngIf="signupForm.get('password')?.errors?.['required']">Password is required</small>
            <small class="text-danger" *ngIf="signupForm.get('password')?.errors?.['minlength']">Password must be
              atleast
              6 characters.</small>
          </div>
        </div>
        <div class="mb-3">
          <div class="input-group">
            <button class="btn btn-light" disabled><i class="bi bi-lock-fill"></i></button>
            <input [type]="confirmPassword?'text':'password'" name="confirm_password" class="form-control text-dark"
              placeholder="Confirm Password" formControlName="confirm_password">
            <button class="btn btn-light" type="button" (click)="toggleConfirmPassword()"><i
                [ngClass]="{'bi bi-eye-slash': confirmPassword,'bi bi-eye':!confirmPassword}"></i></button>
          </div>
          <div class="text-danger"
            *ngIf="signupForm.get('confirm_password')?.touched && signupForm.get('confirm_password')?.invalid ">
            <small *ngIf="signupForm.get('confirm_password')?.errors?.['required']">Confirm password is required</small>

            <small class="text-danger"
              *ngIf="signupForm.hasError('mismatch') && signupForm.get('confirm_password')?.touched">
              Password mismatch
            </small>

          </div>
        </div>
        <div class="mb-3">
          <div class="input-group">
            <button class="btn btn-light" disabled><i class="bi bi-person-fill"></i></button>
            <select name="role" class="form-control" formControlName="role">
              <option value="" selected disabled>Select Role</option>
              <option value="owner">Owner</option>
              <option value="supplier">Supplier</option>
            </select>
          </div>
          <div class="text-danger" *ngIf="signupForm.get('role')?.touched && signupForm.get('role')?.invalid ">
            <small *ngIf="signupForm.get('role')?.errors?.['required']">Role is required</small>
          </div>
        </div>

        <button type="submit" class="btn btn-success w-100 mb-3">Sign up</button>


      </form>

      <p class="text-center text-dark">
        Already have an account?
        <a routerLink="/login" class="text-primary libertinus-sans-bold" style="text-decoration: none;"> Login</a>
      </p>

      <footer class="mt-auto text-center small text-dark">
        Â© 2025 FarmConnect. All rights reserved.
      </footer>
    </div>

    <div class="d-none d-md-flex col-md-6 p-0">
      <img src="https://i.pinimg.com/736x/fd/01/45/fd0145bbb398cc6ecebae40c140a3fd8.jpg" alt="Farm-img">
    </div>
  </div>
</div>
<div *ngIf="isLoading"  class="position-fixed top-0 start-0 w-100 h-100 d-flex justify-content-center align-items-center bg-white bg-opacity-75" style="z-index: 1050;">
  <mat-progress-spinner mode="indeterminate" diameter="60" color="primary" ></mat-progress-spinner>
</div>
