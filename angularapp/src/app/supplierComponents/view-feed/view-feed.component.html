<div class="viewFeed container-fluid min-vh-100 d-flex flex-column p-3">
    <div class="container-fluid shadow-lg rounded py-3 min-vh-100">
      <p class="display-6 text-center my-3 bricolage-grotesque-Font">Feeds</p>
  
      <div class="container-fluid py-4">
        <div class="mb-3">
          <input type="text" class="form-control" placeholder="Search by Feed Name..." (input)="search($event)">
        </div>
  
        <div class="table-responsive rounded">
          <table class="table table-hover shadow">
            <thead class="libertinus-sans-bold">
              <tr>
                <th class="th-bgColor text-center">SNo</th>
                <th class="th-bgColor text-center">Feed Name</th>
                <th class="th-bgColor text-center">Type</th>
                <th class="th-bgColor text-center">Description</th>
                <th class="th-bgColor text-center">Available Units</th>
                <th class="th-bgColor text-center">Unit</th>
                <th class="th-bgColor text-center">Price Per Unit</th>
                <th class="th-bgColor text-center">Action</th>
              </tr>
            </thead>
  
            <ng-container *ngIf="loading && !showEmptyMessage">
              <tbody>
                <tr>
                  <td colspan="8" class="text-center align-middle">
                    <div class="d-flex justify-content-center align-items-center" style="height:150px;">
                      <mat-progress-spinner mode="indeterminate" diameter="40" color="primary"></mat-progress-spinner>
                    </div>
                  </td>
                </tr>
              </tbody>
            </ng-container>
  
            <tbody class="libertinus-sans-regular" *ngIf="paginatedFeeds.length > 0 && !loading">
              <tr *ngFor="let feed of paginatedFeeds; let i=index">
                <td class="text-center pt-4" [ngClass]="{'opacity-50': feed.availableUnits === 0}">{{(currentPage - 1) * itemsPerPage + i + 1}}</td>
                <td class="text-center pt-4" [ngClass]="{'opacity-50': feed.availableUnits === 0}">{{feed.feedName}}</td>
                <td class="text-center pt-4" [ngClass]="{'opacity-50': feed.availableUnits === 0}">{{feed.type}}</td>
                <td class="text-center pt-4" [ngClass]="{'opacity-50': feed.availableUnits === 0}">{{feed.description}}</td>
                <td class="text-center pt-4" [ngClass]="{'opacity-50': feed.availableUnits === 0}">{{feed.availableUnits}}</td>
                <td class="text-center pt-4" [ngClass]="{'opacity-50': feed.availableUnits === 0}">{{feed.unit}}</td>
                <td class="text-center pt-4" [ngClass]="{'opacity-50': feed.availableUnits === 0}">{{feed.pricePerUnit}}</td>
                <td class="d-flex gap-1 justify-content-center">
                  <button class="ac-btn" mat-fab color="accent" (click)="editFeed(feed._id)">
                    <mat-icon>edit</mat-icon>
                  </button>
                  <button class="ac-btn" mat-fab color="warn" (click)="removeFeed(feed._id)">
                    <mat-icon class="m-auto">delete</mat-icon>
                  </button>
                </td>
              </tr>
            </tbody>
  
            <ng-container *ngIf="showEmptyMessage && !loading">
              <tbody>
                <tr>
                  <td colspan="8" class="text-center">No Feeds available.</td>
                </tr>
              </tbody>
            </ng-container>
          </table>
        </div>
      </div>
  
      <div class="d-flex justify-content-center align-items-center mt-3 pagination" *ngIf="filteredFeeds.length > 0">
        <button class="btn btn-outline-success btn-sm me-2" (click)="goToPreviousPage()">Prev</button>
        <span>Page {{currentPage}} of {{totalPages}}</span>
        <button class="btn btn-outline-success btn-sm ms-2" (click)="goToNextPage()">Next</button>
      </div>
    </div>
  </div>